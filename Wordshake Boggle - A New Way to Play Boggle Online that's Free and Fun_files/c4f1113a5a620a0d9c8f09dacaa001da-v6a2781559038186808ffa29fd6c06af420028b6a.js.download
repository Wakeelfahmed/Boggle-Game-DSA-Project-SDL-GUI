/*!/wp-content/themes/boggleonline/global-game.js*/
var noThreeLetters=!1;var noFourLetters=!1;var demonstration;var animateHandInterval;var hideHand;var musicOn=!0;var showingAWord=!1;var foundWords=[];var totalPossibleWords=0;var offset=0;var instruction=!1;var letter='';var square='';var glowingWord=!1;var levelPassed=!1;var goalAchieved=!1;var squares=[];var currentWord='';var countDownInterval=null;var count=60;var score=0;var wordCount=0;var wordList=[];var mouseIsDown=!1;var isTapping=!1;var submitWord=!1;var theIndex=0;var borderLen;var progress;var wordGoal=0;var wordsArray=[];var allHints=[];var sizeOfGrid=4;var arrayOfTiles=[];var hintsUsed=0;var hintBonus=25;var hintPoints=0;var bonusWords=0;var totalBonusPoints=0;var letterValues={'a':1,'b':3,'c':3,'d':2,'e':1,'f':4,'g':2,'h':4,'i':1,'j':8,'k':5,'l':1,'m':3,'n':1,'o':1,'p':3,'q':10,'r':1,'s':1,'t':1,'u':1,'v':4,'w':4,'x':8,'y':4,'z':10}
var valueMultiplier=[0,1,1,1,1,2,3,4,5,5,5,5,5,5,5,5];jQuery.fn.scrollTo=function(elem,speed){jQuery(this).animate({scrollTop:jQuery(this).scrollTop()-jQuery(this).offset().top+jQuery(elem).offset().top-40},speed==undefined?1000:speed);return this};function getAllIndexes(arr,val){var indexes=[],i;for(i=0;i<arr.length;i++)
if(arr[i]===val)
indexes.push(i);return indexes}
function setCharAt(str,index,chr){if(index>str.length-1)return str;return str.substring(0,index)+chr+str.substring(index+1)}
var numToletter={3:'three',4:'four',5:'five',6:'six',7:'seven',8:'eight-plus',9:'eight-plus',10:'eight-plus',11:'eight-plus',12:'eight-plus'}
function processFoundWords(){jQuery('.tool-tip').remove();var l=0;var biggestWord='';jQuery('.found-word').each(function(){var word=jQuery(this).text();if(allHints.includes(word)){}else{if(word.length>l){l=word.length;biggestWord=word}
jQuery(".game-word").filter(function(){return $(this).text()===word}).addClass('bb-found-it')}});jQuery('.found-word').hide();return biggestWord}
function putWordInColumn(word){if(word.length==3){jQuery('.word-columns .three').prepend('<div class="found-word">'+word+'</div>');return}
if(word.length==4){jQuery('.word-columns .four').prepend('<div class="found-word">'+word+'</div>');return}
if(word.length==5){jQuery('.word-columns .five').prepend('<div class="found-word">'+word+'</div>');return}
if(word.length==6){jQuery('.word-columns .six').prepend('<div class="found-word">'+word+'</div>');return}
if(word.length==7){jQuery('.word-columns .seven').prepend('<div class="found-word">'+word+'</div>');return}
if(word.length>7){jQuery('.word-columns .eight-plus').prepend('<div class="found-word">'+word+'</div>');return}}
function putWordsIntoTicker(words){totalPossibleWords=words.length;jQuery('.all-the-words .word-group, .word-columns > div').text('');var three=0;var four=0;var five=0;var six=0;var seven=0;var eight=0;var wspointtracker=0;var theWordshake;for(var i=0;i<totalPossibleWords;i++){var wLength=words[i].length;var p=0;for(var l=0;l<wLength;l++){p+=letterValues[words[i].charAt(l)]}
if(wLength==3){jQuery('.all-the-words .three').append('<span class="game-word">'+words[i]+'</span>');three++}else if(wLength==4){jQuery('.all-the-words .four').append('<span class="game-word">'+words[i]+'</span>');four++}else if(wLength==5){jQuery('.all-the-words .five').append('<span class="game-word">'+words[i]+'</span>');five++;p=p*2}else if(wLength==6){jQuery('.all-the-words .six').append('<span class="game-word">'+words[i]+'</span>');six++;p=p*3}else if(wLength==7){jQuery('.all-the-words .seven').append('<span class="game-word">'+words[i]+'</span>');seven++;p=p*4}else if(wLength>=8){jQuery('.all-the-words .eight-plus').append('<span class="game-word">'+words[i]+'</span>');eight++;p=p*5}
if(wspointtracker<p){theWordshake=words[i];wspointtracker=p}}
jQuery('.word-ticker .three').text(three).show();jQuery('.word-ticker .four').text(four).show();jQuery('.word-ticker .five').text(five).show();jQuery('.word-ticker .six').text(six).show();jQuery('.word-ticker .seven').text(seven).show();jQuery('.word-ticker .eight-plus').text(eight).show()}
function tpib(a){var tp=0;for(var i=0;i<a.length;i++){var p=0;for(var l=0;l<a[i].length;l++){if((/[a-zA-Z]/).test(a[i].charAt(l))){p+=parseInt(letterValues[a[i].charAt(l)])}}
p=p*parseInt(valueMultiplier[a[i].length]);tp+=p}
return tp}
function solveBoard(board,dict,size,wordToSolve){var rows=size;var cols=size;var charStack=[];var words=[];var aoft=[];var findWords=function(row,col,node){if(visited[row][col])return;if(!node||!node.has(board[row][col]))return;node=node.next(board[row][col]);charStack.push(board[row][col]);visited[row][col]=!0;if(wordToSolve){aoft.push((row*size)+(col+1)-1);if(aoft.length==wordToSolve.length){arrayOfTiles=aoft.slice(0)}}
for(var dx=-1;dx<=1;dx++){var c=col+dx;if(c<0||c>=cols)continue;for(var dy=-1;dy<=1;dy++){var r=row+dy;if(r<0||r>=rows)continue;if(dx==0&&dy==0)continue;findWords(r,c,node)}}
if(node.isEndOfWord){var s="";for(var i=0;i<charStack.length;i++){s=s+charStack[i]}
words.push(s);}
visited[row][col]=!1;charStack.pop();if(wordToSolve){aoft.pop()}};var visited=new Array(rows);for(var row=0;row<rows;row++){visited[row]=new Array(cols);for(var col=0;col<cols;col++){visited[row][col]=!1}}
for(var r=0;r<rows;r++){for(var c=0;c<cols;c++){findWords(r,c,dict)}}
return words};function Trie(){var ALPHABET_SIZE=26;var ASCII_OFFSET='A'.charCodeAt();this.children=null;this.isEndOfWord=!1;this.contains=function(str){var curNode=this;for(var i=0;i<str.length;i++){var idx=str.charCodeAt(i)-ASCII_OFFSET;if(curNode.children&&curNode.children[idx]){curNode=curNode.children[idx]}else{return!1}}
return curNode.isEndOfWord}
this.has=function(ch){if(this.children){return this.children[ch.charCodeAt()-ASCII_OFFSET]!=undefined}
return!1}
this.next=function(ch){if(this.children){return this.children[ch.charCodeAt()-ASCII_OFFSET]}
return undefined}
this.insert=function(str){var curNode=this;for(var i=0;i<str.length;i++){var idx=str.charCodeAt(i)-ASCII_OFFSET;if(curNode.children==null){curNode.children=new Array(ALPHABET_SIZE);curNode=curNode.children[idx]=new Trie()}else if(curNode.children[idx]){curNode=curNode.children[idx]}else{curNode=curNode.children[idx]=new Trie()}}
curNode.isEndOfWord=!0;return curNode}}
var dictionaryTrie=new Trie();function tileDance(){jQuery('#letter-board .letter').each(function(index){jQuery(this).css('animation-delay',index*100+'ms').addClass('dance')})}
function showDropdown(element){element.addClass('dropdown')}
function showTheWord(wordToShow){showingAWord=!0;if(wordToShow!==undefined){}else{var wordToShow=wordsArray[Math.floor(Math.random()*wordsArray.length)]}
if(jQuery('.single-quest').length||jQuery('.more-daily-games').length){}else{allHints.push(wordToShow)}
arrayOfTiles=[];var wordDict=new Trie();wordDict.insert(wordToShow);board=[];var letters=[];jQuery('.letter.in-play').each(function(){letters.push(jQuery(this).children().text())});if(sizeOfGrid==3){board=[[letters[0],letters[1],letters[2]],[letters[3],letters[4],letters[5]],[letters[6],letters[7],letters[8]]]}else{board=[[letters[0],letters[1],letters[2],letters[3]],[letters[4],letters[5],letters[6],letters[7]],[letters[8],letters[9],letters[10],letters[11]],[letters[12],letters[13],letters[14],letters[15]]]}
console.log(board);solveBoard(board,wordDict,sizeOfGrid,wordToShow);animateTheHand(arrayOfTiles,wordToShow);demonstration=setInterval(function(){animateTheHand(arrayOfTiles,wordToShow)},wordToShow.length*300+2000)}
function animateTheHand(arrayOfTiles,wordToShow){jQuery('.word').text('');var countdown=wordToShow.length;var count=0;var left=jQuery('[data-square="'+arrayOfTiles[0]+'"]').position().left+50;var top=jQuery('[data-square="'+arrayOfTiles[0]+'"]').position().top+50;jQuery('.hand').fadeIn().css('transform','translate('+left+'px,'+top+'px)');animateHandInterval=setInterval(function(){jQuery('.letter [data-square="'+arrayOfTiles[count]+'"]').parent().addClass('selected');var three=jQuery('.three-grid')[0];if(count>0){$thisGoo=jQuery('.connector[data-square="'+arrayOfTiles[count]+'"] .goo');switch(arrayOfTiles[count]-arrayOfTiles[count-1]){case 1:$thisGoo.parent().addClass('left');break;case-1:$thisGoo.parent().addClass('right');break;case 4:if(three){$thisGoo.parent().addClass('upleft')}else{$thisGoo.parent().addClass('up')}
break;case-4:if(three){$thisGoo.parent().addClass('downright')}else{$thisGoo.parent().addClass('down')}
break;case 3:if(three){$thisGoo.parent().addClass('up')}else{$thisGoo.parent().addClass('upright')}
break;case-3:if(three){$thisGoo.parent().addClass('down')}else{$thisGoo.parent().addClass('downleft')}
break;case 5:$thisGoo.parent().addClass('upleft');break;case-5:$thisGoo.parent().addClass('downright');break}}
var left=jQuery('[data-square="'+arrayOfTiles[count]+'"]').position().left+50;var top=jQuery('[data-square="'+arrayOfTiles[count]+'"]').position().top+50;jQuery('.hand').css('transform','translate('+left+'px,'+top+'px)');jQuery('.word').append(wordToShow.charAt(count));count++;countdown--;if(countdown==0){clearInterval(animateHandInterval);hideHand=setTimeout(function(){jQuery('.hand').hide();jQuery('.selected').removeClass('selected');jQuery('.connector').removeClass('downleft downright left right upright upleft up down')},1000)}},300)}
function clearWordReveal(){clearInterval(demonstration);clearInterval(animateHandInterval);clearInterval(hideHand);showingAWord=!1;jQuery('.hand').hide();jQuery('.selected').removeClass('selected');jQuery('.connector').removeClass('up down right left upright upleft downright downleft');jQuery('.reveal-word, .turn-board').removeClass('disabled active');arrayOfTiles=[]}
function getTheWordshakeDef(largestWord){jQuery.ajax({url:window.location.origin+"/definition/"+largestWord,success:function(data){var wsDefinition=jQuery(data).find('p.def:first').html();jQuery('.the-wordshake').text(wsDefinition)},error:function(xhr,error){console.debug(xhr);console.debug(error)}})}
var qwertySquares=[];jQuery(document).on('keydown',function(e){if(!jQuery('#letter-board').hasClass('disabled')){if(showingAWord){clearWordReveal()}
if(e.key==="Enter"){if(glowingWord){foundWords.push(currentWord);wordsArray.splice(theIndex,1);wordFound()}else{var alreadyFound=!1;for(var i=0;i<foundWords.length;i++){if(foundWords[i]==currentWord){alreadyFound=!0}}
if(alreadyFound){jQuery('.word').html('Already Found');setTimeout(function(){jQuery('.word').text('')},800)}else if(currentWord.length<3){jQuery('.word').html('Go For 3 Letters!');setTimeout(function(){jQuery('.word').text('')},800)}else{jQuery('.word').html('Not a word');setTimeout(function(){jQuery('.word').text('')},200)}
jQuery('.selected').removeClass('selected');jQuery('.connector').removeClass('up down right left upright upleft downright downleft');mouseIsDown=!1;glowingWord=!1;currentWord='';squares=[]}
return}
if(e.key==="Backspace"||e.key==="Delete"){var lastChar=currentWord[currentWord.length-1];if(lastChar){jQuery('#letter-board .letter span:contains('+lastChar+')').each(function(){jQuery(this).parent().removeClass('selected');jQuery('.connector[data-square="'+jQuery(this).data('square')+'"]').removeClass('up down right left upright upleft downright downleft glow');qwertySquares.pop()});currentWord=currentWord.slice(0,-1);jQuery('.word').text(currentWord);if(noThreeLetters&&currentWord.length==3){}else if(noFourLetters&&currentWord.length==4){}else{var wordToCheck=currentWord.toLowerCase();glowingWord=!1;for(var i=0;i<wordsArray.length;i++){if(wordsArray[i]==wordToCheck){wordDiscovered(currentWord);theIndex=i;break}}}
if(!glowingWord){jQuery('#letter-board').removeClass('glow three-letter four-letter five-letter six-letter seven-letter')}}
return}
if(e.key.match(/^[a-z]$/)){if(jQuery('#letter-board span:contains('+e.key+')').length==0){return}
var validLetter=!1;jQuery('#letter-board .letter span:contains('+e.key+')').each(function(){var $square=jQuery(this);var last=currentWord.charAt(currentWord.length-1);if(last){jQuery('#letter-board .letter:not(.temp-invalid-'+(currentWord.length-1)+') span:contains('+last+')').each(function(){var $prevSquare=jQuery(this);if(addConnector($square.data('square'),$prevSquare.data('square'))){jQuery('.connector').removeClass('up down right left upright upleft downright downleft');qwertySquares.push($square.data('square'));$square.parent().addClass('selected').removeClass('temp-invalid-'+currentWord.length);validLetter=!0;jQuery('.temp-invalid-'+(currentWord.length-1)).removeClass('temp-invalid-'+(currentWord.length-1))}else{if($square.parent().hasClass('selected')){}else{$square.parent().addClass('temp-invalid-'+currentWord.length)}}})}else{qwertySquares.push($square.data('square'));$square.parent().addClass('selected');validLetter=!0}});if(!validLetter){return}
currentWord+=e.key;jQuery('.word').text(currentWord);jQuery('.soft-pop')[0].play();if(noThreeLetters&&currentWord.length==3){}else if(noFourLetters&&currentWord.length==4){}else{var wordToCheck=currentWord.toLowerCase();glowingWord=!1;for(var i=0;i<wordsArray.length;i++){if(wordsArray[i]==wordToCheck){wordDiscovered(currentWord);theIndex=i;break}}}
if(!glowingWord){jQuery('#letter-board').removeClass('glow three-letter four-letter five-letter six-letter seven-letter')}
return}}});var isTouchDevice;jQuery('#letter-board').on('touchstart',function(e){isTouchDevice=!0});jQuery('#letter-board').on('mousedown touchstart',function(e){if(showingAWord){clearWordReveal()}
if(isTouchDevice){e.preventDefault()}
var $target=jQuery(e.target);var s;if(typeof $target.data('square')!=='undefined'){s=$target.data('square')}else if($target.hasClass('letter')){s=$target.children().data('square')}
if(typeof s!=='undefined'){mouseIsDown=!0;if(audioLoaded){jQuery('.soft-pop')[0].play()}
if(isTapping){jQuery('#letter-board').addClass('tapping');if(squares.indexOf(s)===-1){squares.push(s);if(addConnector(s,squares[squares.length-2])){letter=jQuery('#letter-board .letter span[data-square="'+s+'"]').parent().addClass('selected').text();currentWord+=letter;jQuery('.word').text(currentWord);if(noThreeLetters&&currentWord.length==3){}else if(noFourLetters&&currentWord.length==4){}else{var wordToCheck=currentWord.toLowerCase();glowingWord=!1;for(var i=0;i<wordsArray.length;i++){if(wordsArray[i]==wordToCheck){wordDiscovered(currentWord);theIndex=i;break}}}
if(!glowingWord){jQuery('#letter-board').removeClass('glow three-letter four-letter five-letter six-letter seven-letter')}}else{squares.pop()}}else{submitWord=!0}}else{squares.push(s);letter=jQuery('#letter-board .letter span[data-square="'+s+'"]').parent().addClass('selected').text();currentWord+=letter;jQuery('.word').text(currentWord)}}});jQuery('#letter-board').on('mousemove touchmove',function(e){if(mouseIsDown&&!isTapping){var s;if(isTouchDevice){e.preventDefault();var xPos=e.originalEvent.touches[0].pageX;var yPos=e.originalEvent.touches[0].pageY-jQuery(document).scrollTop();var $target=jQuery(document.elementFromPoint(xPos,yPos))}else{var $target=jQuery(e.target)}
if(typeof $target.data('square')!=='undefined'){s=$target.data('square')}
if(typeof s!=='undefined'){if(squares.indexOf(s)===-1){if(addConnector(s,squares[squares.length-1])){squares.push(s);letter=jQuery('#letter-board .letter span[data-square="'+s+'"]').parent().addClass('selected').text();currentWord+=letter;jQuery('.word').text(currentWord);if(noThreeLetters&&currentWord.length==3){}else if(noFourLetters&&currentWord.length==4){}else{var wordToCheck=currentWord.toLowerCase();glowingWord=!1;for(var i=0;i<wordsArray.length;i++){if(wordsArray[i]==wordToCheck){wordDiscovered(currentWord);theIndex=i;break}}}
if(!glowingWord){jQuery('#letter-board').removeClass('glow three-letter four-letter five-letter six-letter seven-letter')}
if(audioLoaded){jQuery('.soft-pop')[0].play()}}}else{var squaresToRemove=squares.length-(squares.indexOf(s)+1);if(squaresToRemove>0){for(var sq=1;sq<=squaresToRemove;sq++){var squareToDelete=squares[squares.length-1];jQuery('.connector[data-square="'+squareToDelete+'"]').removeClass('up down right left upright upleft downright downleft');jQuery('.selected span[data-square="'+squareToDelete+'"]').parent().removeClass('selected');squares.pop();currentWord=currentWord.slice(0,-1)}
jQuery('.word').text(currentWord);var wordToCheck=currentWord.toLowerCase();glowingWord=!1;for(var i=0;i<wordsArray.length;i++){if(wordsArray[i]==wordToCheck){wordDiscovered(currentWord);theIndex=i;break}}
if(!glowingWord){jQuery('#letter-board').removeClass('glow three-letter four-letter five-letter six-letter seven-letter')}}}}}});jQuery(document).on('mouseup touchend',function(e){if(mouseIsDown){if(isTapping){if(submitWord){jQuery('#letter-board').addClass('bbs-got-it');submitWord=!1;if(glowingWord){foundWords.push(currentWord);wordsArray.splice(theIndex,1);wordFound()}else{var alreadyFound=!1;for(var i=0;i<foundWords.length;i++){if(foundWords[i]==currentWord){alreadyFound=!0}}
if(alreadyFound){jQuery('.word').html('Already Found');setTimeout(function(){jQuery('.word').text('')},800)}else if(squares.length==2){jQuery('.word').html('Go For 3 Letters!');setTimeout(function(){jQuery('.word').text('')},800)}else{jQuery('.word').html('Not a word');setTimeout(function(){jQuery('.word').text('')},800)}
jQuery('.selected').removeClass('selected');jQuery('.connector').removeClass('up down right left upright upleft downright downleft');mouseIsDown=!1;isTapping=!1;currentWord='';squares=[]}}}else{if(glowingWord){foundWords.push(currentWord);wordsArray.splice(theIndex,1);wordFound()}else{if(squares.length==1){isTapping=!0;mouseIsDown=!1}else{isTapping=!1;var alreadyFound=!1;for(var i=0;i<foundWords.length;i++){if(foundWords[i]==currentWord){alreadyFound=!0}}
if(alreadyFound){jQuery('.word').html('Already Found');setTimeout(function(){jQuery('.word').text('')},800)}else if(squares.length==2){jQuery('.word').html('Go For 3 Letters!');setTimeout(function(){jQuery('.word').text('')},800)}else{jQuery('.word').html('Not a word');setTimeout(function(){jQuery('.word').text('')},800)}
jQuery('.selected').removeClass('selected');jQuery('.connector').removeClass('up down right left upright upleft downright downleft');mouseIsDown=!1;currentWord='';squares=[]}}}}});function startCountDown(){countDownInterval=setInterval(tick,1000);jQuery('.timer-wrap').removeClass('halfway empty').addClass('flash');setTimeout(function(){jQuery('.timer-wrap').removeClass('flash')},400)}
function tick(){count--;if(count==0){clearInterval(countDownInterval);if(showingAWord){clearWordReveal()}
endOfGame()}
if(count==30){jQuery('.timer-wrap').addClass('halfway')}
if(count==5){jQuery('.timer-wrap').removeClass('halfway').addClass('empty')}
if(count<10){jQuery('.timer').text("0"+count)}else{jQuery('.timer').text(count)}}
function clearBoard(){if(showingAWord){clearWordReveal()}
jQuery('.selected').removeClass('selected glow');jQuery('.connector').removeClass('up down right left upright upleft downright downleft glow');squares=[];currentWord='';jQuery('.word').text('')}
function displayWordsToFind(){jQuery('.wtf').each(function(index){var w=jQuery(this).text();wordList.push(w);jQuery(this).attr("data-word",w)});jQuery('.words-to-find').addClass('show')}
function addConnector(newS,currentS){var d=newS-currentS;var valid=!1;var direction;if(sizeOfGrid==3){var right=[2,5,8];var left=[0,3,6];if([1,-1,2,-2,3,-3,4,-4].includes(d)){switch(d){case 1:if(!right.includes(currentS)){direction='left';valid=!0}
break;case-1:if(!left.includes(currentS)){direction='right';valid=!0}
break;case 2:if(!left.includes(currentS)){direction='upright';valid=!0}
break;case-2:if(!right.includes(currentS)){direction='downleft';valid=!0}
break;case 4:if(!right.includes(currentS)){direction='upleft';valid=!0}
break;case-4:if(!left.includes(currentS)){direction='downright';valid=!0}
break;case 3:direction='up';valid=!0;break;case-3:direction='down';valid=!0;break}}}else{var right=[3,7,11,15];var left=[0,4,8,12];if([1,-1,3,-3,4,-4,5,-5].includes(d)){switch(d){case 1:if(!right.includes(currentS)){direction='left';valid=!0}
break;case-1:if(!left.includes(currentS)){direction='right';valid=!0}
break;case 3:if(!left.includes(currentS)){direction='upright';valid=!0}
break;case-3:if(!right.includes(currentS)){direction='downleft';valid=!0}
break;case 5:if(!right.includes(currentS)){direction='upleft';valid=!0}
break;case-5:if(!left.includes(currentS)){direction='downright';valid=!0}
break;case 4:direction='up';valid=!0;break;case-4:direction='down';valid=!0;break}}}
if(valid){jQuery('.connector[data-square="'+newS+'"]').addClass(direction)}
return valid}
function wordDiscovered(word){glowingWord=!0;jQuery('#letter-board').addClass('glow').removeClass('three-letter four-letter five-letter six-letter seven-letter');if(audioLoaded){jQuery('.brush')[0].play()}
switch(word.length){case 3:if(audioLoaded){jQuery('.bell-c')[0].play()}
jQuery('#letter-board').addClass('three-letter');break;case 4:if(audioLoaded){jQuery('.bell-d')[0].play()}
jQuery('#letter-board').addClass('four-letter');break;case 5:if(audioLoaded){jQuery('.bell-e')[0].play()}
jQuery('#letter-board').addClass('five-letter');break;case 6:if(audioLoaded){jQuery('.bell-g')[0].play()}
jQuery('#letter-board').addClass('six-letter');break;case 7:if(audioLoaded){jQuery('.bell-high-c')[0].play()}
jQuery('#letter-board').addClass('seven-letter');break;case 8:if(audioLoaded){jQuery('.bell-high-c')[0].play()}
jQuery('#letter-board').addClass('seven-letter');break;case 9:if(audioLoaded){jQuery('.bell-high-c')[0].play()}
jQuery('#letter-board').addClass('seven-letter');break;case 10:if(audioLoaded){jQuery('.bell-high-c')[0].play()}
jQuery('#letter-board').addClass('seven-letter');break}}
function getWordPoints(word){var p=0;for(var i=0;i<word.length;i++){p+=letterValues[word.charAt(i)]}
if(word.length==5){p=p*2;return p}
if(word.length==6){p=p*3;return p}
if(word.length==7){p=p*4;return p}
if(word.length>7){p=p*5;return p}
return p}
function showStarsEarned(word){if(word.length<=4){jQuery('.score-wrap .star-1').addClass('earned');return}
if(word.length==5){jQuery('.score-wrap .star-1, .score-wrap .star-2').addClass('earned');return}
if(word.length>5){jQuery('.score-wrap .star-1, .score-wrap .star-2, .score-wrap .star-3').addClass('earned')}}
function showWordPraise(word,points){var praiseText='';switch(word.length){case 3:jQuery('.praise').addClass('three');jQuery('.word-ticker .three').addClass('got').text(jQuery('.word-ticker .three').text()-1);break;case 4:jQuery('.praise').addClass('four');jQuery('.word-ticker .four').addClass('got').text(jQuery('.word-ticker .four').text()-1);praiseText="GOOD!"
break;case 5:jQuery('.praise').addClass('five');jQuery('.word-ticker .five').addClass('got').text(jQuery('.word-ticker .five').text()-1);praiseText="GREAT!";break;case 6:jQuery('.praise').addClass('six');jQuery('.word-ticker .six').addClass('got').text(jQuery('.word-ticker .six').text()-1);praiseText="IMPRESSIVE!";break;case 7:jQuery('.praise').addClass('seven');jQuery('.word-ticker .seven').addClass('got').text(jQuery('.word-ticker .seven').text()-1);praiseText="WOW!";break;case 8:jQuery('.praise').addClass('eight-plus');jQuery('.word-ticker .eight-plus').addClass('got').text(jQuery('.word-ticker .eight-plus').text()-1);jQuery('#letter-board').addClass('shake-hard');praiseText="INCREDIBLE!!";break;case 9:jQuery('.praise').addClass('eight-plus');jQuery('.word-ticker .eight-plus').addClass('got').text(jQuery('.word-ticker .eight-plus').text()-1);jQuery('#letter-board').addClass('shake-hard');praiseText="WORDSHAKE!!";break;case 10:jQuery('.praise').addClass('eight-plus');jQuery('.word-ticker .eight-plus').addClass('got').text(jQuery('.word-ticker .eight-plus').text()-1);jQuery('#letter-board').addClass('shake-hard');praiseText="WORDSHAKE!!";break;case 11:jQuery('.praise').addClass('eight-plus');jQuery('.word-ticker .eight-plus').addClass('got').text(jQuery('.word-ticker .eight-plus').text()-1);jQuery('#letter-board').addClass('shake-hard');praiseText="WORDSHAKE!!";break;case 12:jQuery('.praise').addClass('eight-plus');jQuery('.word-ticker .eight-plus').addClass('got').text(jQuery('.word-ticker .eight-plus').text()-1);jQuery('#letter-board').addClass('shake-hard');praiseText="WORDSHAKE!!";break}
var top=50;jQuery('.praise').addClass('praise-show').html('+'+points+'<br>'+praiseText);setTimeout(function(){jQuery('.word-ticker div').removeClass('got');jQuery('.praise').removeClass('praise-show three four five six seven eight-plus');jQuery('#letter-board').removeClass('shake-hard')},700)}
function countUpScore($element,initial,additional,time=1000){var msPerPoint=parseInt(time/additional);var counter=1;for(i=0;i<additional;i++){setTimeout(function(){$element.text(initial+counter);counter++},msPerPoint*i)}}
function wordFound(){submitWord=!1;isTapping=!1;var points=getWordPoints(currentWord);showWordPraise(currentWord,points);if(audioLoaded){jQuery('.word-found')[0].play()}
if(jQuery('.single-quest').length){showStarsEarned(currentWord);if(instruction){tutorialIndex++;if(tutorialIndex==3){jQuery('.tutorial').html("Maximum points! That's a Wordshake.")}else{if(tutorialIndex==1){jQuery('.tutorial').html("Good!<br>Now try a longer word:");showTheWord(tutorial[tutorialIndex])}else{jQuery('.tutorial').html('Great! You got 3 stars.<br>Can you swipe this word?');showTheWord(tutorial[tutorialIndex])}}}}
if(jQuery('.more-daily-games').length){updateWordsFoundCookie()}
putWordInColumn(currentWord);jQuery('.word-columns').addClass('active');if(jQuery('.wtf').length){var cWord=currentWord.toUpperCase();if(jQuery.inArray(cWord,wordList)!=-1){if(audioLoaded){jQuery('.well-done-bb')[0].play()}
jQuery('.selected').each(function(index){jQuery(this).children().clone().addClass('clone').appendTo(jQuery(this))});wordCount++;jQuery('.wtf').each(function(){if(jQuery(this).data("word")==cWord){var $word=jQuery(this);var bp=$word.find('strong:not(.show-it)').length*hintBonus;hintPoints+=bp;countUpScore(jQuery('#score span'),score,hintPoints+points,1250);score=score+points+hintPoints;$word.attr('data-before','+'+bp);var $word=jQuery(this);$word.addClass('show-points founded');var yPos=$word.offset().top-jQuery(document).scrollTop();var xPos=$word.offset().left;var clones=[];var theWord=cWord.toLowerCase();jQuery('.clone').each(function(){var i=getAllIndexes(theWord,jQuery(this).text());if(i.length==1){clones[i]=jQuery(this)}else{clones[i[0]]=jQuery(this);theWord=setCharAt(theWord,i[0],'&')}});gsap.to(clones,{y:function(index,target){return yPos-target.getBoundingClientRect().top},x:function(index,target){return xPos-target.getBoundingClientRect().left+(26*index)},delay:.25,duration:.5,scale:.35,stagger:{amount:.25,onComplete(){jQuery('.wtf.show-points strong:not(.found):first').addClass('found');if(audioLoaded){jQuery('.bell-high-c')[0].play()}
this.targets()[0].classList.add('got-points');gsap.to(this.targets()[0],{opacity:0,scale:1,duration:.25,left:-26,top:-26})}},transformOrigin:"top left",ease:"back.in(1)"});setTimeout(function(){jQuery('.clone').remove();$word.removeClass('show-points')},1150)}})}else{if(allHints.includes(currentWord)){}else{countUpScore(jQuery('#score span'),score,points,500);score=score+points;bonusWords++}}}else{wordCount++;if(jQuery('.num-found').length){jQuery('.num-found').text(wordCount)}
if(allHints.includes(currentWord)){}else{countUpScore(jQuery('#score span'),score,points,500);score=score+points}
if(instruction){countUpScore(jQuery('#score span'),score,points,500);score=score+points}}
setTimeout(function(){jQuery('.selected').removeClass('selected');jQuery('.connector').removeClass('up down right left upright upleft downright downleft glow');jQuery('#letter-board').removeClass('glow three-letter four-letter five-letter six-letter seven-letter')},150);if(wordGoal>0){if(wordCount==wordGoal){clearInterval(countDownInterval);if(showingAWord){clearWordReveal()}
if(audioLoaded){jQuery('.complete')[0].play()}
levelPassed=!0;jQuery('#letter-board').unbind();progress.style.strokeDashoffset=0;if(instruction){tutorialEndOfGame()}else{endOfGame()}}else{var offsetToSet=wordCount/wordGoal*borderLen;progress.style.strokeDashoffset=borderLen-offsetToSet}}
squares=[];currentWord='';jQuery('.word').text('');mouseIsDown=!1;glowingWord=!1}
function turnBoard(){var daLetters=[];jQuery('#letter-board .letter span').each(function(){var l=jQuery(this).text();daLetters.push(l)});jQuery('#letter-board, .letter').addClass('turn');setTimeout(function(){var i=0;if(jQuery('.three-grid')[0]){jQuery('#letter-board .letter span').each(function(){if(i<=2){jQuery(this).text(daLetters[6-i*3])}else if(i>2&&i<=5){jQuery(this).text(daLetters[16-i*3])}else{jQuery(this).text(daLetters[26-i*3])}
i++})}else{jQuery('#letter-board .letter span').each(function(){if(i<=3){jQuery(this).text(daLetters[12-i*4])}else if(i>3&&i<=7){jQuery(this).text(daLetters[29-i*4])}else if(i>7&&i<=11){jQuery(this).text(daLetters[46-i*4])}else{jQuery(this).text(daLetters[63-i*4])}
i++})}
jQuery('#letter-board, .letter').removeClass('turn');jQuery('.reveal-word, .turn-board').removeClass('disabled active')},1000)}
function resetProgressSVG(){if(jQuery('#progressSVG').length){progress=document.querySelector('#progressSVG path');borderLen=progress.getTotalLength()+8;progress.style.strokeDashoffset=borderLen;progress.style.strokeDasharray=borderLen+','+borderLen}}
jQuery(document).ready(function(){jQuery('.toggle-wrap .button').click(function(){if(!jQuery(this).hasClass('active')){jQuery('.toggle-wrap .button').removeClass('active');jQuery(this).addClass('active');jQuery('.toggle-right, .toggle-left').toggle()}});if(jQuery('.word-array').length){var wAS=jQuery('.word-array').text();wordsArray=wAS.split('","');putWordsIntoTicker(wordsArray)}
if(jQuery('.wordGoal').length){wordGoal=parseInt(jQuery('.wordGoal').text())}
resetProgressSVG();jQuery('.turn-board').click(function(){jQuery('.turn-board').addClass('active disabled');jQuery('.reveal-word').addClass('disabled');turnBoard()});jQuery('.reveal-word').click(function(){if(showingAWord){clearWordReveal();jQuery('.turn-board, .reveal-word').removeClass('active disabled')}else{jQuery('.reveal-word').addClass('active');jQuery('.turn-board').addClass('disabled');showTheWord()}});jQuery('.show-hint').click(function(){jQuery('.show-hint').addClass('disabled');hintsUsed++;var $wtf=jQuery('.wtf:not(.founded)');var len=$wtf.length;var random=Math.floor(Math.random()*len);var $letter=$wtf.eq(random).find('strong:not(.show-it):first');while($letter.length==0){var random=Math.floor(Math.random()*len);var $letter=$wtf.eq(random).find('strong:not(.show-it):first')}
$letter.addClass('achieved');if(audioLoaded){jQuery('.bell-high-c')[0].play();jQuery('.word-found')[0].play()}
setTimeout(function(){$letter.removeClass('achieved').addClass('flip-letter');if(audioLoaded){jQuery('.whoosh')[0].play()}
setTimeout(function(){$letter.addClass('show-it').removeClass('flip-letter');if(jQuery('.wtf strong:not(.show-it)').length==0){jQuery('.show-hint').addClass('greyed-out')}else{jQuery('.show-hint').removeClass('disabled')}},150)},200)});jQuery('.try-again').click(function(){location.reload()});if(jQuery('.words-to-find').length){displayWordsToFind()}
var paddingTop=(jQuery(window).height()-(jQuery('.above-board').height()+jQuery('.board-wrap').height()))/2;if(paddingTop<80){paddingTop=80}
if(jQuery('.page-template-boggle').length||jQuery('.page-template-live-game').length||jQuery('.page-template-social-game').length||jQuery('.page-template-three-min-live-game').length){jQuery('.master-grid').css('padding-top',paddingTop)}else{jQuery('#game-wrap').css('padding-top',paddingTop)}
jQuery('#game-wrap').addClass('show');var boardTop=paddingTop+jQuery('.above-board').height();console.log(boardTop);jQuery('.welcome-text, .end-screen-message, .description').css('top',boardTop)})
;